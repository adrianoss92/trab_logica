pedido = dict ()
ped = []
pizza = []

def cabecalho():
    print("*"*52)
    print("*"*16," Pizzaria Logica !","*"*16)
    print("*"*52)


def menu_principal():
    print("#"*14,"Escolha a opção desejada!","#"*11)
    print("#"*10," 1 para fazer um pedido!","#"*16)
    print("#"*10," 2 para lista pedidos de uma mesa!","#"*6)
    print("#"*10," 3 para verificar as mesas abertas","#"*6)
    print("#"*10," 4 para Valor total vendido !","#"*11)
    print("#"*10," 5 para sair do sistema!","#"*16)
    print("#"*52)


def menu_secundario():
    print('Digite 1 para abrir uma nova mesa!')
    print('Digite 2 para adcionar um pedido a uma mesa já aberta!')
    print('Digite 3 para voltar para o menu principal!')


def pedido_mesa(n_mesa):   
    pedido['n_mesa'] = mesa
    pedido['pizza_t'] = str(input("Insira o sabor da pizza: ")).upper()
    pedido['valor_u'] = float(input("Insira o valor da pizza: "))
    pedido['quant'] = float(input("Insira a quantidade de pizzas: "))
    pedido['valor_t'] = pedido["valor_u"] * pedido["quant"]
    ped.append(pedido.copy())
    print('###############################################')
    print('#######Pedido registrado com sucesso! #########')
    print('###############################################')


def cardapio():  #função para criar o cardapio
    print("**************************************************")
    print("*****SABORES*******-*******INGREDIENTES***********")
    print("**************************************************") 
    print("1 - CALABRESA      - MOLHO DE TOMATE, MUSSARELA E CALABRESA")
    print("2 - 4 QUEIJOS      - MOLHO DE TOMATE, MUSSARELA, MIGNON AO MOLHO 4 QUEIJOS E CATUPIRY")
    print("3 - DO CHEFF       - MOLHO DE TOMATE, MUSSARELA, PALMITO, CHAMPIGNON E MOLHO BRANCO")
    print("4 - TOSCANA        - MOLHO DE TOMATE, MUSSARELA, CALABRESA E OVOS")
    print("5 - CHEDDAR ESP.   - MOLHO DE TOMATE, MUSSARELA, CHAMPINON, PALMITO E CHEDDAR")
    print("6 - PORTUGUESA     - MOLHO DE TOMATE, PRESUNTO, MUSSARELA, OVOS, CEBOLA E AZEITONAS")
    print("7 - ATUM           - MOLHO DE TOMATE, MUSSARELA, ATUM, CEBOLA E AZEITONAS")
    print("8 - VEGETARIANA    - MOLHO DE TOMATE, ESCAROLA REFOGADA, PALMITO, MILHO, TOMATES, AZEITONAS E MUSSARELA")
    print("9 - BOLONHESA      - MOLHO DE TOMATE, BOLONHESA, MOLHO PARMEGIANA, PARMESÃO E MUSSARELA")
    print("10 -PALMITO        - MOLHO DE TOMATE, ESCAROLA REFOGADA, PALMITO, MILHO, TOMATES, AZEITONAS E MUSSARELA")
    print("11 - PARMEGIANA    - MOLHO DE TOMATE, PRESUNTO, MOLHO PARMEGIANA, PARMESÃO E MUSSARELA")
    print("12 - MUSSARELA     - MOLHO DE TOMATE E MUSSARELA (2 CAMADAS)")
    print("13 - CARIOCA       - MOLHO DE TOMATE, MUSSARELA, PALMITO, MILHO E CATUPIRY ")
    sabor=int(input())
    if (sabor >= 1) and (sabor <= 13):
        if sabor == 1:
            pedido['pizza_t'] = str('CALABRESA')
        elif sabor == 2:
            pedido['pizza_t'] = str('4 QUEIJOS')
        elif sabor == 3:
            pedido['pizza_t'] = str('DO CHEFF')
        elif sabor == 4:
            pedido['pizza_t'] = str('TOSCANA')
        elif sabor == 5:
            pedido['pizza_t'] = str('CHEDDAR ESP.')
        elif sabor == 6:
            pedido['pizza_t'] = str('PORTUGUESA')
        elif sabor == 7:
            pedido['pizza_t'] = str('ATUM')
        elif sabor == 8:
            pedido['pizza_t'] = str('VEGETARIANA')
        elif sabor == 9:
            pedido['pizza_t'] = str('BOLONHESA')
        elif sabor == 10:
            pedido['pizza_t'] = str('PALMITO')
        elif sabor == 11:
            pedido['pizza_t'] = str('PARMEGIANA')
        elif sabor == 12:
            pedido['pizza_t'] = str('MUSSARELA')
        elif sabor == 13:
            pedido['pizza_t'] = str('CARIOCA')
    else:
        print("ERROR! Opção selecionada Invalida!")
    

def tamanho():   #função para selecionar o tamanho da pizza
    print("|1-Pequena | 2-Media  | 3-Grande   |  4-Big  |")
    print("| R$29,00  | R$33,00  |  R$36,00   | R$41,00 |")
    tamanho = float(input())
    if (tamanho>=1) and (tamanho<=4):
        if tamanho == 1:
            pedido['valor_u'] = float(29.90)
        elif tamanho == 2:
            pedido['valor_u'] = float(33.00)
        elif tamanho == 3:
            pedido['valor_u'] = float(36.00)
        elif tamanho == 4:
            pedido['valor_u'] = float(41.00)     
    else:
        print("ERROR! Opção selecionada Invalida!")
    print("Qual a quantidade de pizzas :")
    pedido['quant'] = float(input("Insira a quantidade de pizzas: "))
    if pedido['quant']<>
        

def lista_pedido(a):  #função para lista os pedidos de uma mesa
    print("|  Mesa |    Pizzas     | Quant | Valor Unitario")
    total = 0
    for c in ped:
        if c['n_mesa'] == a:
            print("="*3,(f'{c["n_mesa"]}'),"="*5,(f'{c["pizza_t"]}'),"="*5,(f'{c["quant"]}'),"="*6,(f'{c["valor_u"]}'))
            total += c["valor_t"]
    print(f'Valor Total========================={total}')


#programa princiapal
while True:
    cabecalho()
    menu_principal()
    op = int(input())
    if op == 1:
        while True:
            menu_secundario()
            op2 = int(input())
            if op2 == 1:
                mesa = int(input("Insira o número da mesa: "))
                if len(ped) == 0:
                    pedido_mesa(mesa)
                else:
                    for m in ped:
                        if m['n_mesa'] != mesa:
                            pedido_mesa(mesa)
                        elif m['n_mesa'] == mesa:
                            print("&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&")
                            print("& ERRO! Esta mesa esta aberta! &")
                            print("&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&")
            elif op2 == 2:
                mesa = int(input("Insira o número da mesa: "))
                for m in ped:
                    if m['n_mesa'] == mesa:
                        pedido['n_mesa'] = mesa
                        pedido['pizza_t'] = str(input("Insira o sabor da pizza: ")).upper()
                        pedido['valor_u'] = float(input("Insira o valor da pizza: "))
                        pedido['quant'] = float(input("Insira a quantidade de pizzas: "))
                        pedido['valor_t'] = pedido["valor_u"] * pedido["quant"]+m["valor_t"]
                        ped.append(pedido.copy())
                        print('###############################################')
                        print(f'###Pedido adcionado na mesa {m["n_mesa"]} com sucesso! ###')
                        print('###############################################')
                        print(ped)
                        mesa = 0
                print(f"A mesa {mesa} não esta aberta favor abrir uma nova mesa!")
            elif op2==3:
                break
            else:
                print("ERRO! Opção invalida ! ")
    elif op == 2:
        mesa = int(input("Insira o número da mesa: "))
        print(lista_pedido(mesa))
    elif op == 3:
        print(f"Existem {len(ped)} mesas em aberto no momento e elas são: ")
        for m in ped:
            print(m['n_mesa'])
    elif op == 4:
        print("teste4")
    elif op == 5:
        break
